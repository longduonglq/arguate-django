(this.webpackJsonpldfrontend=this.webpackJsonpldfrontend||[]).push([[0],{108:function(t,e,a){t.exports=a(132)},113:function(t,e,a){},114:function(t,e,a){t.exports=a.p+"static/media/logo.c2cc24a5.svg"},115:function(t,e,a){},131:function(t,e,a){},132:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(9),o=a.n(i),c=(a(113),a(14)),r=a(13),l=a(18),u=a(17),h=a(19),p=(a(114),a(115),a(22)),d=a(44),f=a(171),g=a(57),m=a(58),b=a(59),v={Global:{buttonColor:g.a[500],warningBtnColor:m.a[400],disableButtonColor:b.a[700],feedbackBtnColor:g.a[800],appBarColor:"rgba(237,135,45,0.87)",welcomeBackground:"white"},TopicUI:{backgroundColor:"bisque",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2)",borderRadius:"6px",planeBackgroundColor:"lightBlue",searchBarMinuteToResetCache:1},ChatUI:{box:"none",fontWeight:430,user_typing_pulse:760},ws:{chatFindingAttempts:[1,1.5,2.5,4.5,6]}},y="rest",S="is-looking",A="looking-success",k="looking-failed-no-opponents",O="looking-failed-server-error",E="looking-failed-user-stopped",C="is-chatting",j="user-disconnect",T="other-disconnect",w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"set-chat-state",state:t,extra:e}},_=(a(78),0),x=1,B=2,N=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={variant:"outlined",btnColor:v.Global.buttonColor,escBtnStyle:null,escBtnText:null,escBtnState:null},a.handleEscClick=a.handleEscClick.bind(Object(d.a)(a)),a.setBtnState=a.setBtnState.bind(Object(d.a)(a)),a.handleKeydown=a.handleKeydown.bind(Object(d.a)(a)),a.stateSnap=[null,null],a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"handleEscClick",value:function(t){this.setState({escBtnState:(this.state.escBtnState+1)%3})}},{key:"componentDidMount",value:function(){switch(document.addEventListener("keydown",this.handleKeydown,!1),this.props.chatState){case y:break;case S:case C:this.setState({escBtnState:x});break;case k:case O:case E:this.setState({escBtnState:_});break;case j:case T:this.setState({escBtnState:_})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeydown,!1)}},{key:"componentDidUpdate",value:function(t,e,a){if(this.state.escBtnState!==e.escBtnState&&this.setBtnState(this.state.escBtnState),(this.stateSnap[0]!==this.props.chatState||this.stateSnap[1]!==e.chatState)&&(this.stateSnap=[this.props.chatState,e.chatState],this.props.chatState!==e.chatState))switch(this.props.chatState){case y:break;case S:case C:this.setState({escBtnState:x});break;case k:case O:case E:this.setState({escBtnState:_});break;case j:case T:this.setState({escBtnState:_})}}},{key:"setBtnState",value:function(t){switch(t){case _:this.setState({escBtnStyle:{backgroundColor:v.Global.buttonColor,color:"white"},escBtnText:"Start\n(ESC)"}),this.props.chatState===S?this.props.setChatState(E):this.props.chatState===C&&this.props.setChatState(j);break;case x:switch(this.setState({escBtnStyle:{},escBtnText:"Quit\n(ESC)"}),this.props.chatState){case j:case T:case k:case O:case E:case A:this.props.setChatState(S)}break;case B:this.setState({escBtnStyle:{backgroundColor:v.Global.warningBtnColor,color:"white"},escBtnText:"Really?\n(ESC)"})}}},{key:"handleKeydown",value:function(t){27===t.keyCode&&this.handleEscClick()}},{key:"render",value:function(){return s.a.createElement(f.a,{variant:this.state.variant,color:this.state.btnColor,style:this.state.escBtnStyle,onClick:this.handleEscClick,disableElevation:!0},this.state.escBtnText)}}]),e}(s.a.Component),P=Object(p.b)((function(t){return{chatState:t.chat.state,chatStateExtra:t.chat.extra}}),(function(t){return{setChatState:function(e,a){return t(w(e,a))}}}))(N),R=a(186),W=a(187),z=a(190),M=a(188),I=a(192),V=a(67),U=function(t){return{type:"set-active-tab",tab:t}},Y=a(93),D="https://arguate.com",F="wss://arguate.com";var L=function(t,e){return new Promise((function(a,n){var s=JSON.stringify(e),i=new XMLHttpRequest;i.onreadystatechange=function(t){4==i.readyState&&200==i.status||i.status>400&&console.log("error")},i.open("POST","".concat(D,"/").concat(t,"/")),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onload=function(t){a(i.responseText)},i.onerror=function(t){n("could not complete xhr request")},i.send(s)}))},X=a(86),Z=a.n(X),J=a(42),G=function(t,e){return{type:"new-msg",msg:e,id:t}},K=function(t){return{type:"set-typing-state",state:t}},q=a(120),H=function(){},Q=function(){function t(){Object(c.a)(this,t),this.callbacks={register_opinion_err:H,"register_opinion_err.reason":H,change_opinion_err:H,user_id_confirmed:H},this.handlers={start_chat_success:this.start_chat_success.bind(this),"start_chat_err.no_opponents":this.no_opponents.bind(this),"start_chat_err.could_not_start":this.could_not_start.bind(this),receive_end_chat:this.receive_end_chat.bind(this),receive_typing_status:this.receive_typing_status.bind(this),receive_msg_from:this.receive_msg_from.bind(this)},this.socketRef=null,this.start_chat_timeouts=[],this.start_chat_attempts=1}return Object(r.a)(t,null,[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),Object(r.a)(t,[{key:"connect",value:function(){var t=this,e="".concat(F,"/wss/chat/");this.socketRef=new WebSocket(e),this.socketRef.onopen=function(){if(console.log("websocket open"),"user_id"in localStorage)t.sendJSON({cmd:"user_id",id:localStorage.getItem("user_id")});else{var e=q();localStorage.setItem("user_id",e),t.sendJSON({cmd:"user_id",id:e})}},this.socketRef.onmessage=function(e){t.socketNewMsg(e.data)},this.socketRef.onerror=function(t){console.log(t.message)},this.socketRef.onclose=function(){console.log("websocket closed, reopening"),t.connect()},this.wait_for_connection()}},{key:"wait_for_connection",value:function(){var t=this;setTimeout((function(){1===t.socketRef.readyState?console.log("connection is made"):(console.log("wait for connection..."),t.wait_for_connection())}),50)}},{key:"sendJSON",value:function(t){try{this.socketRef.send(JSON.stringify(Object(J.a)({},t)))}catch(e){console.log(e.message,t)}}},{key:"addCallback",value:function(t,e){this.callbacks[t]=e}},{key:"socketNewMsg",value:function(t){var e=JSON.parse(t),a=e.cmd;console.debug("data received: ",e),a in this.handlers?this.handlers[a](e):a in this.callbacks&&this.callbacks[a](e)}},{key:"start_chat",value:function(){for(var t=0;t<this.start_chat_timeouts.length;t++)clearTimeout(this.start_chat_timeouts[t]);this.start_chat_timeouts=[],this.start_chat_attempts=1,this.sendJSON({cmd:"start_chat"})}},{key:"stop_start_chat",value:function(){for(var t=0;t<this.start_chat_timeouts.length;t++)clearTimeout(this.start_chat_timeouts[t]);this.start_chat_timeouts=[],this.start_chat_attempts=1}},{key:"start_chat_success",value:function(t){for(var e=0;e<this.start_chat_timeouts.length;e++)clearTimeout(this.start_chat_timeouts[e]);this.start_chat_timeouts=[],this.start_chat_attempts=1,me.dispatch(w(A,{topic:t.topic,opinion:t.opinion})),me.dispatch(U(1))}},{key:"no_opponents",value:function(t){var e=this,a=v.ws.chatFindingAttempts;this.start_chat_attempts<a.length?this.start_chat_timeouts.push(setTimeout((function(){e.sendJSON({cmd:"start_chat"}),e.start_chat_attempts+=1}),1e3*a[this.start_chat_attempts])):(me.dispatch(w(k)),me.dispatch(U(1)))}},{key:"could_not_start",value:function(t){me.dispatch(w(O)),me.dispatch(U(1))}},{key:"end_chat",value:function(t){this.sendJSON({cmd:"end_chat"})}},{key:"receive_end_chat",value:function(t){me.dispatch(w(T)),me.dispatch(K(!1)),me.dispatch(U(1))}},{key:"receive_typing_status",value:function(t){me.dispatch(K(t.isTyping))}},{key:"receive_msg_from",value:function(t){me.dispatch(U(1)),me.dispatch(G(1,t.msg))}},{key:"send_msg_to",value:function(t){this.sendJSON({cmd:"send_msg_to",msg:t})}},{key:"register_opinion",value:function(t,e){this.sendJSON({cmd:"register_opinion",topic:t,position:e})}},{key:"toggle_opinion",value:function(t){this.sendJSON({cmd:"change_opinion",topic:t})}},{key:"unregister_opinion",value:function(t){this.sendJSON({cmd:"unregister_opinion",topic:t})}},{key:"send_feedback",value:function(t,e){this.sendJSON({cmd:"send_feedback",email:t,feedback:e})}},{key:"send_typing_status",value:function(t){this.sendJSON({cmd:"typing_status",isTyping:t})}}]),t}();Q.instance=null;var $=Q.getInstance(),tt={};setInterval((function(){tt={}}),6e4*v.TopicUI.searchBarMinuteToResetCache);var et=Z()((function(t,e){t in tt?e(tt[t]):L("topics",{user_id:localStorage.getItem("user_id"),input:t}).then((function(a){var n=JSON.parse(a);if(!("topics"in n)||0===n.topics.length)return e([]),void(tt[t]=[]);n.topics.sort((function(t,e){return e[1]+e[2]-t[1]-t[2]}));for(var s=[],i=0;i<n.topics.length;i++){var o=n.topics[i][1]+n.topics[i][2];s.push({value:n.topics[i][0],label:"".concat(n.topics[i][0]," (").concat(o," people)")})}tt[t]=s,e(s)}))}),300),at=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleChange=function(t){for(var e=0;e<a.props.topics.length;e++)if(a.props.topics[e][0]===t.value)return;a.props.addTopic(t.value),$.register_opinion(t.value,!0)},a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Y.a,{onChange:this.handleChange,cacheOptions:!0,defaultOptions:!0,placeholder:"Type in keywords to find topics...",loadOptions:et}))}}]),e}(s.a.Component),nt=Object(p.b)((function(t){return{topics:t.topic.topics}}),(function(t){return{addTopic:function(e){return t({type:"add-topic",topic:e})}}}))(at),st=a(94),it=a(178),ot=a(195),ct=a(6),rt=a(61),lt=a(196),ut=a(177),ht=a(176),pt=a(175),dt=a(87),ft=a.n(dt),gt=Object(ct.a)((function(t){return{switchBase:{color:m.a[700],"&$checked":{color:rt.a[700],"& + $track":{backgroundColor:rt.a[500]}}},checked:{},track:{backgroundColor:m.a[500]}}}))(lt.a);var mt=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleSwitchToggle=function(t){return function(e){a.props.toggleTopic(t),$.toggle_opinion(t)}},a.handleDeleteBtnClick=function(t){return function(e){a.props.deleteTopic(t),$.unregister_opinion(t)}},a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement(ht.a,{row:!0},this.props.opinions.map((function(e,a){return s.a.createElement("div",{key:e[0],style:{margin:"5px",marginRight:"0px",borderRadius:v.TopicUI.borderRadius,boxShadow:v.TopicUI.boxShadow,backgroundColor:v.TopicUI.backgroundColor}},s.a.createElement(ut.a,{control:s.a.createElement(gt,{checked:e[1],onChange:t.handleSwitchToggle(e[0])}),label:(n=e[0],n.replace(/^\w/,(function(t){return t.toUpperCase()}))+(e[1]?" (Support)":" (Against)")),style:{marginRight:"0px",marginLeft:"5px"}}),s.a.createElement(pt.a,{style:{padding:"5px"},onClick:t.handleDeleteBtnClick(e[0])},s.a.createElement(ft.a,{fontSize:"small"})));var n})))}}]),e}(s.a.Component),bt=Object(p.b)((function(t){return{opinions:t.topic.topics}}),(function(t){return{toggleTopic:function(e){return t(function(t){return{type:"toggle-topic",topic:t}}(e))},deleteTopic:function(e){return t(function(t){return{type:"delete-topic",topic:t}}(e))}}}))(mt),vt=(a(64),Object(st.a)({overrides:{MuiTooltip:{tooltip:{fontSize:15,color:"white"}}}})),yt=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleStartChatClick=function(){a.props.chatState!==C&&a.props.chatState!==S&&a.props.setChatState(S),a.props.setCurrentTab(1)},a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{style:{paddingLeft:28,paddingRight:28}},s.a.createElement(nt,null)),s.a.createElement("div",{align:"center"},s.a.createElement(it.a,{theme:vt},s.a.createElement(ot.a,{title:this.props.topics.length>0?"":"You must first choose at least one topic"},s.a.createElement("div",null,s.a.createElement(f.a,{variant:"contained",size:"large",fullWidth:!0,color:"primary",style:{backgroundColor:this.props.topics.length>0?v.Global.buttonColor:v.Global.disableButtonColor,color:"white",width:300,height:60,marginTop:20,fontSize:25},disabled:!(this.props.topics.length>0),onClick:this.handleStartChatClick},"Start Chat"))))),s.a.createElement("div",{style:{margin:28,borderRadius:v.TopicUI.borderRadius,backgroundColor:v.TopicUI.planeBackgroundColor}},s.a.createElement(bt,null)))}}]),e}(s.a.Component),St=Object(p.b)((function(t){return{chatState:t.chat.state,topics:t.topic.topics}}),(function(t){return{setCurrentTab:function(e){return t(U(e))},setChatState:function(e){return t(w(e))}}}))(yt),At=function(t){function e(t){return Object(c.a)(this,e),Object(l.a)(this,Object(u.a)(e).call(this,t))}return Object(h.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(V.a,{component:"div"},s.a.createElement(z.a,{textAlign:"justify",m:4,fontWeight:"fontWeightRegular",fontSize:18},s.a.createElement("b",null,"What is Arguate?"),s.a.createElement("br",null),"Arguate is a website that let you chat with other people who disagree with you. The goal of this website is to be a platform where people could challenge each other beliefs via interesting conversations."),s.a.createElement(z.a,{textAlign:"justify",m:4,fontWeight:"fontWeightRegular",fontSize:18},s.a.createElement("b",null,"How does Arguate work?"),s.a.createElement("br",null),"You will first need to choose at least one topic by typing keywords in the search bar. Once finished, you can use the toggle switch to express your opinion about the topic. A ",s.a.createElement("b",{style:{color:"green"}},"green")," toggle means you're supportive of the topic while a ",s.a.createElement("b",{style:{color:"red"}},"red")," one means you oppose it. Once done, press ",s.a.createElement("b",{style:{color:"blue"}},"Start Chat"),". Arguate will find and match you with another user who has the opposite opinion.")))}}]),e}(s.a.Component),kt=a(189),Ot=a(194),Et=a(184),Ct=a(182),jt=a(183),Tt=a(181);function wt(t){return null===t||null!==t.match(/^\s*$/)}var _t=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1,email:"",feedback:""})},a.emailChange=function(t){a.setState({email:t.target.value})},a.fbChange=function(t){a.setState({feedback:t.target.value})},a.handleSend=function(){wt(a.state.email)&&wt(a.state.feedback)||($.send_feedback(a.state.email,a.state.feedback),a.handleClose())},a.state={open:!1,email:"",feedback:""},a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{style:Object(J.a)({},this.props.style,{marginTop:10})},s.a.createElement(f.a,{variant:"contained",color:"primary",onClick:this.handleClickOpen,style:{background:v.Global.feedbackBtnColor}},"Feedback"),s.a.createElement(Ot.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},s.a.createElement(Tt.a,{id:"form-dialog-title"},"Feedback"),s.a.createElement(Ct.a,null,s.a.createElement(jt.a,null,"Please describe the problem or give a suggestion. Your email is necessary for us to be able get back to you."),s.a.createElement(kt.a,{autoFocus:!0,value:this.state.email,onChange:this.emailChange,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0}),s.a.createElement(kt.a,{value:this.state.feedback,onChange:this.fbChange,margin:"dense",id:"fback",label:"Enter problem or suggestion here",type:"text",multiline:!0,rows:6,fullWidth:!0})),s.a.createElement(Et.a,null,s.a.createElement(f.a,{onClick:this.handleClose,color:"secondary"},"Cancel"),s.a.createElement(f.a,{onClick:this.handleSend,color:"primary"},"Send Feedback"))))}}]),e}(s.a.Component),xt=a(55),Bt=a(60),Nt=a(185);a(130),a(131);var Pt=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).componentDidMount=function(){a.interval=setInterval((function(){a.checkInputChange(a.state.inputValue)}),v.ChatUI.user_typing_pulse)},a.componentWillUnmount=function(){clearInterval(a.interval)},a.checkInputChange=function(t){var e;t===a.lastInputValue?e=!1:(a.lastInputValue=t,e=!0),""===t&&(e=!1),e!==a.lastReturnValue&&(a.props.chatState===C&&$.send_typing_status(e),a.lastReturnValue=e)},a.handleInputChange=function(t){a.setState({inputValue:t.target.value})},a.onKeyPress=function(t){return!(!t.shiftKey||13!==t.charCode)||(13===t.charCode?(a.trySendMsg(),t.preventDefault(),!1):void 0)},a.trySendMsg=function(){var t;null!==(t=a.state.inputValue)&&null===t.match(/^\s*$/)&&(a.props.sendMsg(a.state.inputValue),$.send_msg_to(a.state.inputValue)),a.setState({inputValue:""})},a.state={inputValue:""},a.interval=null,a.lastInputValue="",a.lastReturnValue=null,a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("textarea",{value:this.state.inputValue,className:"message-input",style:{fontWeight:v.ChatUI.fontWeight},maxLength:500,autoFocus:!0,disabled:this.props.chatState!==C,onKeyPress:this.onKeyPress,onChange:this.handleInputChange})}}]),e}(s.a.Component),Rt=Object(p.b)((function(t){return{chatState:t.chat.state}}),(function(t){return{setTypingState:function(e){return t(K(e))},sendMsg:function(e){return t(G(0,e))}}}))(Pt),Wt={text:{fontSize:17,fontWeight:v.ChatUI.fontWeight},chatbubble:{borderRadius:10,padding:10,maxWidth:500}},zt=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).isLooking=function(){a.props.clearMsg(),a.setState({displayBottomMsg:!1,displayTopMsg:!0,topMsg:function(){return s.a.createElement("div",null,s.a.createElement("i",{style:{color:Bt.a[800],fontWeight:500}},"Finding someone who disagrees with you..."))}})},a.lookingSuccess=function(){a.setState({displayBottomMsg:!1,displayTopMsg:!0,topMsg:function(){return s.a.createElement("div",{style:{fontWeight:500}},"You are ",s.a.createElement("span",{style:{color:"green"}},"connected")," to a random user (",(t=a.props.chatStateExtra).opinion?s.a.createElement("span",{style:{color:"green",fontWeight:500}},"Support:",s.a.createElement("span",{style:{color:"green",fontWeight:600}}," ",t.topic)):s.a.createElement("span",{style:{color:"red",fontWeight:500}},"Against:",s.a.createElement("span",{style:{color:"red",fontWeight:600}}," ",t.topic)),").");var t}},(function(){a.props.setChatState(C,a.props.chatStateExtra)}))},a.failed_noOpponent=function(){a.setState({displayBottomMsg:!0,bottomMsg:function(){return s.a.createElement("div",{style:{fontWeight:400}},s.a.createElement("span",{style:{color:Nt.a[900],fontWeight:500}},"Couldn't find any available user right now. Please try again and maybe add more opinions."),s.a.createElement("div",{style:{marginTop:13,borderRadius:v.TopicUI.borderRadius,backgroundColor:v.TopicUI.planeBackgroundColor}},s.a.createElement(bt,null)),s.a.createElement(_t,null))}})},a.failed_disconnect=function(t){a.setState({displayBottomMsg:!0,bottomMsg:function(){return s.a.createElement("div",null,s.a.createElement("span",{style:{color:"red",fontWeight:600}},t," disconnected"),s.a.createElement("div",{style:{marginTop:13,borderRadius:v.TopicUI.borderRadius,backgroundColor:v.TopicUI.planeBackgroundColor}},s.a.createElement(bt,null)),s.a.createElement(_t,null))}})},a.failed_serverError=function(){a.setState({displayTopMsg:!0,topMsg:function(){return s.a.createElement("div",{style:{fontWeight:400}},"Could not connect to server. Please try again or report the error.",s.a.createElement("div",{style:{marginTop:13,borderRadius:v.TopicUI.borderRadius,backgroundColor:v.TopicUI.planeBackgroundColor}},s.a.createElement(bt,null)),s.a.createElement(_t,null))}})},a.state={displayTopMsg:!1,topMsg:function(){return s.a.createElement("div",null)},displayBottomMsg:!1,bottomMsg:function(){return s.a.createElement("div",null)}},a.chatStateSnap=null,a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.propagateChatState(this.props.chatState)}},{key:"componentDidUpdate",value:function(t,e,a){this.chatStateSnap!==this.props.chatState&&(this.chatStateSnap=this.props.chatState,this.props.chatState!==e.chatState&&this.propagateChatState(this.props.chatState,this.props.chatStateExtra))}},{key:"propagateChatState",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(t){case y:break;case S:this.isLooking();break;case C:case A:this.lookingSuccess();break;case k:this.failed_noOpponent();break;case O:this.failed_serverError();break;case E:case j:this.failed_disconnect("You've");break;case T:this.failed_disconnect("Other use has")}}},{key:"render",value:function(){return s.a.createElement("div",{className:"chatfeed-wrapper",style:{flexGrow:1}},s.a.createElement(xt.ChatFeed,{maxHeight:250,messages:this.props.messages,showSenderName:!0,bubbleStyles:Wt,isTyping:this.props.isTyping,typingMsg:s.a.createElement("i",null,"Other user is typing..."),empty:this.state.displayTopMsg,extraMsg:this.state.topMsg(),showEnd:this.state.displayBottomMsg,showEndMsg:this.state.bottomMsg()}),s.a.createElement("div",{className:"input-group"},s.a.createElement(P,null),s.a.createElement(Rt,null)))}}]),e}(s.a.Component),Mt=Object(p.b)((function(t){return{messages:t.msg.msgs,isTyping:t.msg.typingState,chatState:t.chat.state,chatStateExtra:t.chat.extra}}),(function(t){return{newMsg:function(e){return t(G(e))},clearMsg:function(){return t({type:"clear-msg"})},setChatState:function(e,a){return t(w(e,a))}}}))(zt),It=a(91),Vt=a.n(It),Ut=function(t){function e(t){return Object(c.a)(this,e),Object(l.a)(this,Object(u.a)(e).call(this,t))}return Object(h.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{hidden:this.props.value!==this.props.index,id:"full-width-tabpanel-".concat(this.props.index),style:this.props.style,className:this.props.ClassName},this.props.value===this.props.index&&s.a.createElement("div",{style:this.props.style,className:this.props.childclass},this.props.children))}}]),e}(s.a.Component);function Yt(t){return{id:"simple-tab-".concat(t)}}var Dt=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleTabChange=function(t,e){0===a.props.topics.length&&0!==e||a.props.setCurrentTab(e)},a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{style:{height:"100%"}},s.a.createElement(R.a,{style:{backgroundColor:v.Global.appBarColor},position:"static"},s.a.createElement(W.a,{container:!0,spacing:3,className:"appBarGrid"},s.a.createElement(W.a,{item:!0,xs:12,sm:12},s.a.createElement(I.a,{value:this.props.curTab,onChange:this.handleTabChange,style:{height:"100%"},centered:!0},s.a.createElement(M.a,Object.assign({label:"Home"},Yt(0),{style:{fontSize:20}})),s.a.createElement(M.a,Object.assign({label:"Chat"},Yt(1),{style:{fontSize:20}})))))),s.a.createElement(Ut,{value:this.props.curTab,index:0,style:{background:v.Global.welcomeBackground,height:"100%"}},s.a.createElement("div",null,s.a.createElement(V.a,{component:"div"},s.a.createElement(z.a,{textAlign:"center",fontWeight:90,fontSize:60,style:{paddingTop:30,paddingBottom:20}},s.a.createElement("img",{src:Vt.a,width:64,height:64}),"Arguate")),s.a.createElement(St,null),s.a.createElement(At,null),s.a.createElement("div",{align:"center"},s.a.createElement(_t,null)),s.a.createElement("div",{style:{height:30,background:"transparent"}}))),s.a.createElement(Ut,{value:this.props.curTab,index:1,ClassName:"chatui",childclass:"childDiv"},s.a.createElement(Mt,null)))}}]),e}(s.a.Component),Ft=Object(p.b)((function(t){return{curTab:t.tab.tab,topics:t.topic.topics}}),(function(t){return{setCurrentTab:function(e){return t(U(e))}}}))(Dt),Lt=function(t){function e(t){return Object(c.a)(this,e),Object(l.a)(this,Object(u.a)(e).call(this,t))}return Object(h.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(Ft,null))}}]),e}(s.a.Component),Xt=a(40),Zt=a(92),Jt={state:y,extra:null},Gt=function(t,e){return Object.assign({},t,{state:e.state,extra:null===e.extra?t.extra:e.extra})},Kt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"set-chat-state":return Gt(t,e);default:return t}},qt=a(56),Ht={msgs:[],typingState:!1},Qt=function(t,e){return Object.assign({},t,{msgs:[].concat(Object(qt.a)(t.msgs),[new xt.Message({id:e.id,message:e.msg})])})},$t=function(t,e){return Object.assign({},t,{msgs:[]})},te=function(t,e){return Object.assign({},t,{typingState:e.state})},ee=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"new-msg":return Qt(t,e);case"clear-msg":return $t(t);case"set-typing-state":return te(t,e);default:return t}},ae={topics:[]},ne=function(t,e){return Object(J.a)({},t,{topics:e.topics})},se=function(t,e){for(var a=0;a<t.topics.length;a++)if(t.topics[a]===e.topic)return t;return{topics:[].concat(Object(qt.a)(t.topics),[[e.topic,!0]])}},ie=function(t,e){return{topics:t.topics.map((function(t,a){return t[0]===e.topic?[t[0],!t[1]]:t}))}},oe=function(t,e){return{topics:t.topics.filter((function(t,a){return t[0]!==e.topic}))}},ce=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"set-topics":return ne(t,e);case"add-topic":return se(t,e);case"toggle-topic":return ie(t,e);case"delete-topic":return oe(t,e);default:return t}},re={tab:0},le=function(t,e){return t.tab===e.tab?t:Object.assign({},t,{tab:e.tab})},ue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"set-active-tab":return le(t,e);default:return t}},he=a(52),pe={},de=function(t,e){return Object.assign({},e,Object(he.a)({},e.field,e.info))},fe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"set-general-info":return de(0,e);default:return t}},ge=function(){function t(){Object(c.a)(this,t),this.listener=this.listener.bind(this),me.subscribe(this.listener),this.prevState=me.getState()}return Object(r.a)(t,[{key:"listener",value:function(){var t=me.getState();if(t.chat.state!==this.prevState.chat.state){switch(t.chat.state){case S:$.start_chat();break;case j:$.end_chat();break;case E:$.end_chat(),$.stop_start_chat();break;case O:$.end_chat();break;case k:$.end_chat()}this.prevState.chat.state=t.chat.state}}}]),t}();a.d(e,"store",(function(){return me}));var me=function(){var t=Object(Xt.combineReducers)({chat:Kt,msg:ee,topic:ce,tab:ue,general:fe}),e=Object(Zt.composeWithDevTools)({name:"Redux",realtime:!0,trace:!0,traceLimit:25});return Object(Xt.createStore)(t,e())}(),be=s.a.createElement(p.a,{store:me},s.a.createElement(Lt,null));$.addCallback("user_id_confirmed",(function(){L("user_topics",{user_id:localStorage.getItem("user_id")}).then((function(t){var e=JSON.parse(t);me.dispatch({type:"set-topics",topics:e.topics}),o.a.render(be,document.getElementById("root"))}))})),$.connect();new ge},64:function(t,e,a){},78:function(t,e,a){},91:function(t,e){t.exports="data:image/png;base64,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"}},[[108,1,2]]]);
//# sourceMappingURL=main.6904078e.chunk.js.map