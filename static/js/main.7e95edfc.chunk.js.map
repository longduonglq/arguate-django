{"version":3,"sources":["logo.svg","GConfig.js","store/actions/types.js","store/actions/ChatState.js","components/EscBtn.js","store/actions/Tabs.js","wsConfig.js","utility.js","store/actions/MsgState.js","websocket.js","components/SearchBar.js","store/actions/TopicState.js","components/TopicsUI.js","components/MainControl.js","components/WelcomeMsg.js","components/Feedback.js","components/Textarea.js","components/ChatUI.js","components/MainUI.js","App.js","store/reducers/ChatState.js","store/reducers/MsgState.js","store/reducers/TopicState.js","store/reducers/Tabs.js","store/reducers/GeneralState.js","rdWebsocket.js","index.js","logo192.png"],"names":["module","exports","GConfig","Global","buttonColor","blue","warningBtnColor","red","disableButtonColor","grey","feedbackBtnColor","appBarColor","welcomeBackground","TopicUI","backgroundColor","boxShadow","borderRadius","planeBackgroundColor","searchBarMinuteToResetCache","ChatUI","box","fontWeight","user_typing_pulse","ws","chatFindingAttempts","chatStates","setChatState","state","extra","type","btnState","EscBtn","props","variant","btnColor","escBtnStyle","escBtnText","escBtnState","handleEscClick","bind","setBtnState","handleKeydown","stateSnap","event","this","setState","document","addEventListener","chatState","removeEventListener","prevProps","prevState","snapshot","status","color","keyCode","Button","style","onClick","disableElevation","React","Component","connect","chat","chatStateExtra","dispatch","chatAction","setActiveTab","tab","HOST_URL","SOCKET_URL","sendHttp","dir","json","Promise","resolve","reject","data","JSON","stringify","xhr","XMLHttpRequest","onreadystatechange","err","readyState","console","log","open","setRequestHeader","onload","e","responseText","onerror","send","newMsg","id","msg","setTypingState","uuid4","require","nullFunc","WebsocketService","callbacks","handlers","start_chat_success","no_opponents","could_not_start","receive_end_chat","receive_typing_status","receive_msg_from","socketRef","start_chat_timeouts","start_chat_attempts","instance","path","WebSocket","onopen","localStorage","sendJSON","cmd","getItem","_id","setItem","onmessage","socketNewMsg","message","onclose","wait_for_connection","setTimeout","callback","parsedData","parse","debug","i","length","clearTimeout","store","topic","opinion","tabAction","arr","push","msgAction","position","email","feedback","isTyping","GWebsocket","getInstance","cache","setInterval","debounceOption","debounce","inputValue","user_id","input","then","res","raw","sort","a","b","tamed","people","value","label","SearchBar","handleChange","newValue","topics","addTopic","register_opinion","onChange","cacheOptions","defaultOptions","placeholder","loadOptions","PurpleSwitch","withStyles","theme","switchBase","green","checked","track","Switch","TopicsUI","handleSwitchToggle","name","toggleTopic","toggle_opinion","handleDeleteBtnClick","deleteTopic","unregister_opinion","FormGroup","row","opinions","map","item","key","margin","marginRight","FormControlLabel","control","lower","replace","c","toUpperCase","marginLeft","IconButton","padding","fontSize","topicAction","createMuiTheme","overrides","MuiTooltip","tooltip","Control","handleStartChatClick","setCurrentTab","paddingLeft","paddingRight","align","Tooltip","title","size","fullWidth","width","height","marginTop","disabled","WelcomeMsg","Typography","component","Box","textAlign","m","isEmptyOrSpaces","str","match","Feedback","handleClickOpen","handleClose","emailChange","target","fbChange","handleSend","send_feedback","background","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","multiline","rows","DialogActions","Textarea","componentDidMount","interval","checkInputChange","componentWillUnmount","clearInterval","curRet","lastInputValue","lastReturnValue","send_typing_status","handleInputChange","onKeyPress","shiftKey","charCode","trySendMsg","preventDefault","sendMsg","send_msg_to","className","maxLength","bubbleStyles","text","chatbubble","maxWidth","isLooking","clearMsg","displayBottomMsg","displayTopMsg","topMsg","orange","lookingSuccess","failed_noOpponent","bottomMsg","failed_disconnect","who","failed_serverError","chatStateSnap","propagateChatState","flexGrow","maxHeight","messages","showSenderName","typingMsg","empty","extraMsg","showEnd","showEndMsg","msgs","typingState","TabPanel","hidden","index","ClassName","childclass","children","a11yProps","MainUI","handleTabChange","AppBar","Grid","container","spacing","xs","sm","Tabs","curTab","centered","Tab","paddingTop","paddingBottom","src","Logo","App","initState","action","Object","assign","reducer","Message","setTopics","filter","field","info","rdWebsocket","listener","subscribe","getState","curState","start_chat","end_chat","stop_start_chat","rootReducer","combineReducers","chatReducer","msgReducer","topicReducer","tabReducer","general","generalReducer","composerEnhancer","composeWithDevTools","realtime","trace","traceLimit","createStore","configureStore","app","addCallback","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7e95edfc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c2cc24a5.svg\";","import {red, blue, orange, grey} from '@material-ui/core/colors';\n\nconst GConfig = {\n    Global: {\n        buttonColor: blue[500],\n        warningBtnColor: red[400],\n        disableButtonColor: grey[700],\n        feedbackBtnColor: blue[800],\n\n        appBarColor: 'rgba(237,135,45,0.87)',\n        welcomeBackground: 'white'\n    },\n    TopicUI: {\n        backgroundColor: 'bisque',\n        boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2)',\n        borderRadius: '6px',\n\n        planeBackgroundColor: 'lightBlue',\n        searchBarMinuteToResetCache: 1\n    },\n    ChatUI: {\n        box: 'none',\n        fontWeight: 430,\n\n        user_typing_pulse: 760,\n    },\n    ws: {\n        chatFindingAttempts: [1, 1.5, 2.5, 4.5, 6],\n    }\n};\n\nexport default GConfig; \n","export const NEW_MSG = 'new-msg';\nexport const CLEAR_MSG = 'clear-msg';\nexport const SET_TYPING_STATE = 'set-typing-state';\n\nexport const ADD_TOPIC =  'add-topic';\nexport const TOGGLE_TOPIC = 'toggle-topic';\nexport const DELETE_TOPIC = 'delete-topic';\nexport const SET_TOPICS = 'set-topics';\n\nexport const SET_ACTIVE_TAB = 'set-active-tab';\n\nexport const SET_CHAT_STATE = 'set-chat-state';\nexport const chatStates = {\n    rest: 'rest',\n    \n    isLooking: 'is-looking',\n    lookingSuccess: 'looking-success',\n    lookingFailed_NOP: 'looking-failed-no-opponents',\n    lookingFailed_SER: 'looking-failed-server-error',\n    lookingFailed_USR: 'looking-failed-user-stopped',\n    \n    isChatting: 'is-chatting',\n    userDisconnect: 'user-disconnect',\n    otherDisconnect: 'other-disconnect',\n};\n\nexport const SET_GENERAL_INFO = 'set-general-info';","import * as action from './types';\n\nexport const setChatState = (state, extra=null) => {\n    return {\n        type: action.SET_CHAT_STATE,\n        state: state,\n        extra: extra // if state is success, this should indicate topic\n    };\n};\n\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport GConfig from \"../GConfig\";\nimport * as chatAction from '../store/actions/ChatState';\nimport {connect} from 'react-redux';\n\nimport '../styles/ChatUI.css';\nimport {chatStates} from '../store/actions/types';\n\nexport const btnState = {\n    start: 0,\n    quit: 1,\n    really: 2\n};\n\nclass EscBtn extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            variant: 'outlined',\n            btnColor: GConfig.Global.buttonColor,\n            escBtnStyle: null,\n            escBtnText: null,\n\n            escBtnState: null,\n        };\n        this.handleEscClick = this.handleEscClick.bind(this);\n        this.setBtnState = this.setBtnState.bind(this);\n        this.handleKeydown = this.handleKeydown.bind(this);\n\n        this.stateSnap = [null, null];\n    }\n\n    handleEscClick(event){\n        this.setState({\n            escBtnState: (this.state.escBtnState + 1) % 3\n        });\n    }\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.handleKeydown, false);\n        switch (this.props.chatState){\n            case chatStates.rest:\n                break;\n            case chatStates.isLooking:\n            case chatStates.isChatting:\n                this.setState({escBtnState: btnState.quit});\n                break;\n            case chatStates.lookingFailed_NOP:\n            case chatStates.lookingFailed_SER:\n            case chatStates.lookingFailed_USR:\n                this.setState({escBtnState: btnState.start});\n                break;\n            case chatStates.userDisconnect:\n            case chatStates.otherDisconnect:\n                this.setState({escBtnState: btnState.start});\n                break;\n        }\n    }\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleKeydown, false);\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.state.escBtnState !== prevState.escBtnState){\n            this.setBtnState(this.state.escBtnState);\n        }\n\n        if (this.stateSnap[0] === this.props.chatState &&\n            this.stateSnap[1] === prevState.chatState){\n            return;\n        } else this.stateSnap = [this.props.chatState, prevState.chatState];\n        if (this.props.chatState !== prevState.chatState){\n            switch(this.props.chatState){\n                case chatStates.rest:\n                    break;\n                case chatStates.isLooking:\n                case chatStates.isChatting:\n                    this.setState({escBtnState: btnState.quit});\n                    break;\n                case chatStates.lookingFailed_NOP:\n                case chatStates.lookingFailed_SER:\n                case chatStates.lookingFailed_USR:\n                    this.setState({escBtnState: btnState.start});\n                    break;\n                case chatStates.userDisconnect:\n                case chatStates.otherDisconnect:\n                    this.setState({escBtnState: btnState.start});\n                    break;\n            }\n        }\n    }\n\n    setBtnState(status){\n        // propagate props 'status' to other internal state update\n        switch(status){\n            case btnState.start:\n                this.setState({\n                    escBtnStyle: {backgroundColor: GConfig.Global.buttonColor, color: 'white'},\n                    escBtnText: 'Start\\n(ESC)'\n                });\n                if (this.props.chatState === chatStates.isLooking) {\n                    this.props.setChatState(chatStates.lookingFailed_USR);\n                }\n                else if (this.props.chatState === chatStates.isChatting){\n                    this.props.setChatState(chatStates.userDisconnect);\n                }\n                break;\n            case btnState.quit:\n                this.setState({\n                    escBtnStyle: {},\n                    escBtnText: 'Quit\\n(ESC)'\n                });\n                switch(this.props.chatState){\n                    case chatStates.userDisconnect:\n                    case chatStates.otherDisconnect:\n                    case chatStates.lookingFailed_NOP:\n                    case chatStates.lookingFailed_SER:\n                    case chatStates.lookingFailed_USR:\n                    case chatStates.lookingSuccess:\n                        this.props.setChatState(chatStates.isLooking);\n                        break;\n                    case chatStates.isChatting:\n                        break;\n                    default:\n                        break;\n                }\n                break;\n            case btnState.really:\n                this.setState({\n                    escBtnStyle: {backgroundColor: GConfig.Global.warningBtnColor, color: 'white'},\n                    escBtnText: 'Really?\\n(ESC)'\n                });\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleKeydown(event){\n        if (event.keyCode === 27) this.handleEscClick();\n    }\n\n    render() {\n        return (\n            <Button\n                variant={this.state.variant}\n                color={this.state.btnColor}\n                style={this.state.escBtnStyle}\n                onClick={this.handleEscClick}\n                disableElevation\n            >\n                {this.state.escBtnText}\n            </Button>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        chatState: state.chat.state,\n        chatStateExtra: state.chat.extra\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setChatState: (state, extra) => dispatch(chatAction.setChatState(state, extra)),\n    };\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(EscBtn);\n\n","import * as action from './types';\n\nexport const setActiveTab = (tab) => {\n    return {\n        type: action.SET_ACTIVE_TAB,\n        tab: tab\n    }\n};","let DEBUG = false;\n\nlet HOST_URL = \"https://arguate.com\";\nlet SOCKET_URL = \"wss://arguate.com\";\n\nif (DEBUG) {\n  HOST_URL = \"http://127.0.0.1:8000\";\n  SOCKET_URL = \"ws://127.0.0.1:8000\";\n}\n\nexport { HOST_URL, SOCKET_URL };\n","import {HOST_URL} from \"./wsConfig\";\n\nconst sendHttp = (dir, json) => {\n    return new Promise((resolve, reject) => {\n        const data = JSON.stringify(json);\n        var xhr = new XMLHttpRequest();\n        xhr.onreadystatechange = err => {\n            if (xhr.readyState == 4 && xhr.status == 200) {\n            } else if (xhr.status > 400) {\n                console.log('error');\n            }\n        };\n        xhr.open('POST', `${HOST_URL}/${dir}/`);\n        xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        xhr.onload = function (e) {\n            resolve(xhr.responseText);\n        };\n        xhr.onerror = function(e) {\n            reject('could not complete xhr request');\n        };\n        xhr.send(data);\n    });\n};\n\nexport default sendHttp;\n","import * as actionType from '../actions/types';\n\nexport const newMsg = (id, msg) => {\n    return {\n        type: actionType.NEW_MSG,\n        msg: msg,\n        id: id\n    };\n};\n\nexport const clearMsg = () => {\n    return {\n        type: actionType.CLEAR_MSG,\n    };\n};\n\nexport const setTypingState = (state) => {\n    return {\n        type: actionType.SET_TYPING_STATE,\n        state: state\n    };\n};","import {SOCKET_URL} from \"./wsConfig\";\nimport {store} from './index';\nimport GConfig from \"./GConfig\";\nimport * as chatAction from './store/actions/ChatState';\nimport * as msgAction from './store/actions/MsgState';\nimport * as tabAction from './store/actions/Tabs';\nimport {chatStates} from './store/actions/types';\nconst uuid4 = require('uuid/v4');\n\nvar nullFunc = () => {};\nclass WebsocketService{\n    static instance = null;\n    static getInstance () {\n        if (!WebsocketService.instance) WebsocketService.instance = new WebsocketService();\n        return WebsocketService.instance\n    }\n\n    callbacks = {\n        'register_opinion_err': nullFunc,\n        'register_opinion_err.reason': nullFunc,\n\n        'change_opinion_err': nullFunc,\n        'user_id_confirmed': nullFunc\n    };\n\n    handlers = {\n        'start_chat_success': this.start_chat_success.bind(this),\n        'start_chat_err.no_opponents': this.no_opponents.bind(this),\n        'start_chat_err.could_not_start': this.could_not_start.bind(this),\n\n        'receive_end_chat': this.receive_end_chat.bind(this),\n\n        'receive_typing_status': this.receive_typing_status.bind(this),\n\n        'receive_msg_from': this.receive_msg_from.bind(this),\n    };\n\n    constructor() {\n        this.socketRef = null;\n\n        this.start_chat_timeouts = [];\n        this.start_chat_attempts = 1;\n    }\n\n    connect() {\n        const path = `${SOCKET_URL}/wss/chat/`;\n        this.socketRef = new WebSocket(path);\n        this.socketRef.onopen = () => {\n            console.log('websocket open');\n            if ('user_id' in localStorage){\n                this.sendJSON({\n                    cmd: 'user_id',\n                    id: localStorage.getItem('user_id')\n                });\n            }else{\n                let _id = uuid4();\n                localStorage.setItem('user_id', _id);\n                this.sendJSON({\n                    cmd: 'user_id',\n                    id: _id\n                });\n            }\n        };\n        this.socketRef.onmessage = e => {\n            this.socketNewMsg(e.data);\n        };\n        this.socketRef.onerror = e => {\n            console.log(e.message);\n        };\n        this.socketRef.onclose = () => {\n            console.log(\"websocket closed, reopening\");\n            this.connect();\n        };\n        this.wait_for_connection();\n    }\n    \n    wait_for_connection(){\n        setTimeout(\n            () => {\n                if (this.socketRef.readyState === 1){\n                    console.log('connection is made');\n                } else {\n                    console.log('wait for connection...');\n                    this.wait_for_connection();\n                }\n            }, 50\n        );\n    }\n    \n    sendJSON(data) {\n        try {\n            this.socketRef.send(JSON.stringify({...data}));\n        } catch (err) {\n            console.log(err.message, data);\n        }\n    }\n\n    addCallback(event, callback){\n        this.callbacks[event] = callback;\n    }\n\n    socketNewMsg(data) {\n        const parsedData = JSON.parse(data);\n        const cmd = parsedData.cmd;\n        console.debug('data received: ', parsedData);\n        if (cmd in this.handlers) {\n            this.handlers[cmd](parsedData);\n        }\n        else if (cmd in this.callbacks) {\n            this.callbacks[cmd](parsedData);\n        }\n    }\n\n    start_chat(){\n        for (let i = 0; i < this.start_chat_timeouts.length; i++){\n            clearTimeout(this.start_chat_timeouts[i]);\n        }\n        this.start_chat_timeouts = [];\n        this.start_chat_attempts = 1;\n\n        this.sendJSON({\n            cmd: 'start_chat'\n        });\n    }\n\n    stop_start_chat( ) {\n       for (let i = 0; i < this.start_chat_timeouts.length; i++){\n            clearTimeout(this.start_chat_timeouts[i]);\n       }\n       this.start_chat_timeouts = [];\n       this.start_chat_attempts = 1;\n    }\n\n    start_chat_success(data){\n        for (let i = 0; i < this.start_chat_timeouts.length; i++){\n            clearTimeout(this.start_chat_timeouts[i]);\n        }\n        this.start_chat_timeouts = [];\n        this.start_chat_attempts = 1;\n\n        store.dispatch(chatAction.setChatState(\n            chatStates.lookingSuccess,\n            {topic: data['topic'], opinion: data['opinion']}\n        ));\n        store.dispatch(tabAction.setActiveTab(1));\n    }\n\n    no_opponents(data) {\n        var arr = GConfig.ws.chatFindingAttempts;\n        if (this.start_chat_attempts < arr.length){\n            this.start_chat_timeouts.push(\n                setTimeout(() => {\n                    this.sendJSON({\n                        cmd: 'start_chat'\n                    });\n                    this.start_chat_attempts += 1;\n                }, arr[this.start_chat_attempts] * 1000)\n            );\n        } else {\n            store.dispatch(chatAction.setChatState(\n                chatStates.lookingFailed_NOP\n            ));\n            store.dispatch(tabAction.setActiveTab(1));\n        }\n    }\n\n    could_not_start(data) {\n        store.dispatch(chatAction.setChatState(\n            chatStates.lookingFailed_SER\n        ));\n        store.dispatch(tabAction.setActiveTab(1));\n    }\n\n    end_chat(data) {\n        this.sendJSON({cmd: 'end_chat'});\n    }\n    receive_end_chat(data) {\n        store.dispatch(chatAction.setChatState(\n            chatStates.otherDisconnect\n        ));\n        store.dispatch(msgAction.setTypingState(false));\n        store.dispatch(tabAction.setActiveTab(1));\n    }\n    receive_typing_status(data) {\n        store.dispatch(msgAction.setTypingState(data['isTyping']));\n    }\n    receive_msg_from(data) {\n        store.dispatch(tabAction.setActiveTab(1));\n        store.dispatch(msgAction.newMsg(1, data['msg']));\n    }\n\n    send_msg_to(msg) {\n        this.sendJSON({\n            cmd: 'send_msg_to',\n            msg: msg\n        }); \n    }\n    \n    register_opinion(topic, position) {\n        this.sendJSON({\n            cmd: 'register_opinion',\n            topic: topic,\n            position: position\n        });\n    }\n    toggle_opinion(topic) {\n        this.sendJSON({\n            cmd: 'change_opinion',\n            topic: topic\n        });\n    }\n    unregister_opinion(topic) {\n        this.sendJSON({\n            cmd: 'unregister_opinion',\n            topic: topic\n        });\n    }\n    \n    send_feedback(email, feedback){\n        this.sendJSON({\n            cmd: 'send_feedback',\n            email: email,\n            feedback: feedback\n        });\n    }\n    \n    send_typing_status(status){\n        this.sendJSON({\n            cmd: 'typing_status',\n            isTyping: status\n        });\n    }\n}\n\nconst GWebsocket = WebsocketService.getInstance();\nexport default GWebsocket;","import React from 'react';\nimport AsyncCreatableSelect from 'react-select/async-creatable';\nimport sendHttp from '../utility';\nimport debounce from 'lodash.debounce';\nimport GConfig from \"../GConfig\";\n\nimport * as topic from '../store/actions/TopicState';\nimport {connect} from 'react-redux';\nimport GWebsocket from \"../websocket\";\n\nvar cache = {};\nsetInterval(function () {\n    cache = {};\n}, 1000*60*GConfig.TopicUI.searchBarMinuteToResetCache);\n\nconst loadOptions = (inputValue, callback) => {\n    if (inputValue in cache){\n        callback(cache[inputValue]);\n        return;\n    }\n    sendHttp('topics', {\n        user_id: localStorage.getItem('user_id'),\n        input: inputValue\n    }).then(res => {\n            var raw = JSON.parse(res);\n            if (!('topics' in raw) || raw['topics'].length === 0) {\n                callback([]);\n                cache[inputValue] = [];\n                return;\n            }\n\n            raw['topics'].sort(function (a, b) {\n                return b[1] + b[2] - a[1] - a[2];\n            });\n            var tamed = [];\n            for (let i = 0; i < raw['topics'].length; i++) {\n                var people = raw['topics'][i][1] + raw['topics'][i][2];\n                tamed.push({\n                    value: raw['topics'][i][0],\n                    label: `${raw['topics'][i][0]} (${people} people)`\n                });\n            }\n            cache[inputValue] = tamed;\n            callback(tamed);\n        }\n    );\n};\n\nconst debounceOption = debounce(loadOptions, 300);\n\nclass SearchBar extends React.Component{\n    constructor(props) {\n        super(props);\n    }\n\n    handleChange = (newValue) => {\n        for (let i = 0; i < this.props.topics.length; i++){\n            if (this.props.topics[i][0] === newValue.value) return;\n        }\n        this.props.addTopic(newValue.value);\n        GWebsocket.register_opinion(newValue.value, true);\n    };\n\n    render() {\n        return (\n            <div>\n                <AsyncCreatableSelect\n                    onChange={this.handleChange}\n                    cacheOptions\n                    defaultOptions\n                    placeholder={'Type in keywords to find topics...'}\n                    loadOptions={debounceOption}\n                />\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        topics: state.topic.topics\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        addTopic: (newValue) => dispatch(topic.addTopic(newValue))\n    }\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SearchBar);","import * as action from './types';\n\nexport const setTopics = (topics) => {\n    return {\n        type: action.SET_TOPICS,\n        topics: topics\n    };\n};\n\nexport const addTopic = (topic) => {\n    return {\n        type: action.ADD_TOPIC,\n        topic: topic\n    };\n};\n\nexport const toggleTopic = (topic) => {\n    return {\n        type: action.TOGGLE_TOPIC,\n        topic: topic\n    };\n};\n\nexport const deleteTopic = (topic) => {\n    return {\n        type: action.DELETE_TOPIC,\n        topic: topic\n    };\n};","import React from 'react';\n\nimport {withStyles} from \"@material-ui/core\";\nimport {red, green} from \"@material-ui/core/colors\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nimport GConfig from \"../GConfig\";\nimport * as topicAction from '../store/actions/TopicState';\nimport {connect} from 'react-redux';\nimport GWebsocket from \"../websocket\";\n\nconst PurpleSwitch = withStyles(theme => ({\n  switchBase: {\n      color: red[700],\n      '&$checked': {\n          color: green[700],\n          '& + $track': {\n              backgroundColor: green[500],\n          },\n      },\n  },\n  checked: {},\n  track: {\n      backgroundColor: red[500]\n  },\n}))(Switch);\n\nfunction capitalize_first(lower) {\n    return lower.replace(/^\\w/, c => c.toUpperCase());\n}\n\nclass TopicsUI extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    handleSwitchToggle = name => event => {\n        this.props.toggleTopic(name);\n        GWebsocket.toggle_opinion(name);\n    };\n\n    handleDeleteBtnClick = name => event => {\n        this.props.deleteTopic(name);\n        GWebsocket.unregister_opinion(name);\n    };\n\n    render() {\n        return (\n            <FormGroup row>{\n                this.props.opinions.map((item, i) => {\n                    return (\n                        <div key={item[0]}\n                             style={{\n                                 margin: '5px',\n                                 marginRight: '0px',\n                                 borderRadius: GConfig.TopicUI.borderRadius,\n                                 boxShadow: GConfig.TopicUI.boxShadow,\n                                 backgroundColor: GConfig.TopicUI.backgroundColor}}>\n                            <FormControlLabel\n                                control={\n                                    <PurpleSwitch checked={item[1]}\n                                                  onChange={this.handleSwitchToggle(item[0])}/>\n                                }\n                                label={capitalize_first(item[0]) + (item[1] ? ' (Support)' : ' (Against)')}\n                                style={{marginRight: '0px', marginLeft: '5px'}}\n                            />\n                            <IconButton style={{padding: '5px'}}\n                                        onClick={this.handleDeleteBtnClick(item[0])}>\n                                <CancelIcon fontSize='small'/>\n                            </IconButton>\n                        </div>\n                    );\n                })\n            }</FormGroup>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        opinions: state.topic.topics\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleTopic: (topic) => dispatch(topicAction.toggleTopic(topic)),\n        deleteTopic: (topic) => dispatch(topicAction.deleteTopic(topic))\n    };\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(TopicsUI);\n","import React from 'react';\nimport SearchBar from \"./SearchBar\";\nimport {createMuiTheme, MuiThemeProvider} from \"@material-ui/core\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Button from \"@material-ui/core/Button\";\nimport {connect} from 'react-redux';\n\nimport GConfig from \"../GConfig\";\nimport TopicsUI from \"./TopicsUI\";\nimport * as chatAction from '../store/actions/ChatState';\nimport * as tabAction from '../store/actions/Tabs';\n\nimport '../styles/MainUI_style.css';\nimport {chatStates} from \"../store/actions/types\";\n\n// this is for tooltip styling\nconst theme = createMuiTheme({\n  overrides: {\n    MuiTooltip: {\n      tooltip: {\n        fontSize: 15,\n        color: \"white\",\n      }\n    }\n  }\n});\n\nclass Control extends React.Component{\n    constructor(props) {\n        super(props);\n    }\n\n    handleStartChatClick = () => {\n        if (this.props.chatState !== chatStates.isChatting &&\n            this.props.chatState !== chatStates.isLooking) {\n            this.props.setChatState(chatStates.isLooking);\n        }\n        this.props.setCurrentTab(1);\n    };\n    \n    render() {\n        return (\n            <div>\n                <div style={{paddingLeft: 28, paddingRight: 28}}>\n                    <SearchBar />\n                </div>\n\n            <div align='center'>\n                <MuiThemeProvider theme={theme}>\n                <Tooltip title={this.props.topics.length > 0 ? '': 'You must first choose at least one topic'}>\n                <div>\n                    <Button variant='contained'  size='large' fullWidth={true} color='primary'\n                        style={{backgroundColor: this.props.topics.length > 0? GConfig.Global.buttonColor: GConfig.Global.disableButtonColor,\n                                color: 'white', width: 300, height: 60, marginTop: 20,\n                                fontSize: 25}}\n                        disabled={!(this.props.topics.length > 0)}\n                        onClick={this.handleStartChatClick}\n                        >\n                    Start Chat\n                    </Button>\n                </div>\n                </Tooltip>\n                </MuiThemeProvider>\n            </div>\n            <div style={{margin: 28,\n                        borderRadius: GConfig.TopicUI.borderRadius,\n                        backgroundColor: GConfig.TopicUI.planeBackgroundColor}}>\n\n                <TopicsUI/>\n            </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        chatState: state.chat.state,\n        topics: state.topic.topics,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setCurrentTab: (tab) => dispatch(tabAction.setActiveTab(tab)),\n        setChatState: (state) => dispatch(chatAction.setChatState(state)),\n    }\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Control);","import React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from '@material-ui/core/Box';\n\nclass WelcomeMsg extends React.Component{\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div>\n                <Typography component='div' >\n                <Box textAlign='justify' m={4} fontWeight='fontWeightRegular'\n                    fontSize={18} >\n                    <b>What is Arguate?</b><br/>\n                    Arguate is a website that let you chat with other\n                    people who disagree with you. The goal of this website is to be a\n                    platform where people could challenge each other beliefs via\n                    interesting conversations.\n                </Box>\n                <Box textAlign='justify' m={4} fontWeight='fontWeightRegular'\n                    fontSize={18} >\n                    <b>How does Arguate work?</b><br/>\n                    You will first need to choose at least one topic\n                     by typing keywords in the search bar. Once finished,\n                    you can use the toggle switch to express your opinion about the topic.\n                    A <b style={{color:'green'}}>green</b> toggle means you're supportive of the topic\n                    while a <b style={{color:'red'}}>red</b> one means you oppose it.\n                    Once done, press <b style={{color:'blue'}}>Start Chat</b>. Arguate will find\n                    and match you with another user who has the opposite opinion.\n                </Box>\n                </Typography>\n            </div>\n        );\n    }\n}\n\nexport default WelcomeMsg;","import React, { Component, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport GWebsocket from \"../websocket\";\nimport GConfig from \"../GConfig\";\n\nfunction isEmptyOrSpaces(str){\n    return str === null || str.match(/^\\s*$/) !== null;\n}\n\nclass Feedback extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          open: false,\n          email: '',\n          feedback: ''\n      };\n  }\n\n  handleClickOpen = () =>{\n      this.setState({open: true});\n  };\n  handleClose = () => {\n      this.setState({open: false, email: '', feedback: ''});\n  };\n  emailChange = (e) => {\n      this.setState({email: e.target.value});\n  };\n  fbChange = (e) => {\n      this.setState({feedback: e.target.value});\n  };\n\n  handleSend = () => {\n      if (isEmptyOrSpaces(this.state.email) && isEmptyOrSpaces(this.state.feedback)) return;\n      GWebsocket.send_feedback(this.state.email, this.state.feedback);\n      this.handleClose();\n  };\n\n  render() {\n      return (\n    <div style={{...this.props.style, marginTop: 10}}>\n      <Button variant=\"contained\" color='primary' onClick={this.handleClickOpen}\n            style={{background: GConfig.Global.feedbackBtnColor}}>\n        Feedback\n      </Button>\n      <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Feedback</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please describe the problem or give a suggestion. Your email is necessary for us\n              to be able get back to you.\n          </DialogContentText>\n          <TextField\n            autoFocus\n            value={this.state.email}\n            onChange={this.emailChange}\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Email Address\"\n            type=\"email\"\n            fullWidth\n          />\n          <TextField\n              value={this.state.feedback}\n              onChange={this.fbChange}\n            margin=\"dense\"\n            id=\"fback\"\n            label='Enter problem or suggestion here'\n            type=\"text\"\n            multiline={true}\n            rows={6}\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.handleClose} color='secondary'>\n            Cancel\n          </Button>\n          <Button onClick={this.handleSend} color='primary'>\n             Send Feedback\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n  }\n\n}\nexport default Feedback;","import React from 'react';\nimport {connect} from 'react-redux';\nimport * as msgAction from '../store/actions/MsgState';\nimport {Diff, diffChars} from 'diff';\n\nimport GConfig from \"../GConfig\";\nimport '../styles/Textarea.css';\nimport GWebsocket from \"../websocket\";\nimport {chatStates} from \"../store/actions/types\";\n\nfunction isEmptyOrSpaces(str){\n    return str === null || str.match(/^\\s*$/) !== null;\n}\n\nclass Textarea extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            inputValue: '',\n        };\n        this.interval = null;\n        this.lastInputValue = '';\n        this.lastReturnValue = null;\n    }\n\n    componentDidMount = () => {\n        this.interval = setInterval(() => {\n            this.checkInputChange(this.state.inputValue);\n        }, GConfig.ChatUI.user_typing_pulse);\n    };\n    \n    componentWillUnmount = () => {\n        clearInterval(this.interval);\n    };\n\n    checkInputChange = (inputValue) => {\n        var curRet;\n        if (inputValue === this.lastInputValue) {\n            curRet = false;\n        } else {\n            this.lastInputValue = inputValue;\n            curRet = true;\n        }\n        if (inputValue === '') curRet = false;\n        if (curRet !== this.lastReturnValue) {\n            if (this.props.chatState === chatStates.isChatting) {\n                GWebsocket.send_typing_status(curRet);\n            }\n            this.lastReturnValue = curRet;\n        }\n    };\n\n    handleInputChange = (event) => {\n        this.setState({inputValue: event.target.value});\n    };\n\n    onKeyPress = (event) => {\n        if (event.shiftKey && event.charCode === 13) return true;\n        if (event.charCode === 13){\n            this.trySendMsg();\n            event.preventDefault();\n            return false;\n        }\n    };\n    \n    trySendMsg = () => {\n       if (!isEmptyOrSpaces(this.state.inputValue)){\n           this.props.sendMsg(this.state.inputValue);\n           GWebsocket.send_msg_to(this.state.inputValue);\n       }\n       this.setState({inputValue: ''});\n    };\n\n    render() {\n        return (\n            <textarea\n                value={this.state.inputValue}\n                className='message-input'\n                style={{fontWeight: GConfig.ChatUI.fontWeight}}\n                maxLength={500}\n                autoFocus={true}\n                disabled={this.props.chatState !== chatStates.isChatting}\n                onKeyPress={this.onKeyPress}\n                onChange={this.handleInputChange}\n            />\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        chatState: state.chat.state,\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setTypingState: (state) => dispatch(msgAction.setTypingState(state)),\n        sendMsg: (msg) => dispatch(msgAction.newMsg(0, msg))\n    };\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Textarea);\n","import React from 'react';\nimport { ChatFeed, Message } from 'react-chat-ui';\nimport {orange, red} from '@material-ui/core/colors';\nimport {connect} from 'react-redux';\n\nimport GConfig from \"../GConfig\";\nimport * as msgAction from '../store/actions/MsgState';\nimport * as chatAction from '../store/actions/ChatState';\nimport TopicsUI from \"./TopicsUI\";\nimport Feedback from \"./Feedback\";\nimport Textarea from \"./Textarea\";\nimport EscBtn from \"./EscBtn\";\nimport {chatStates} from \"../store/actions/types\";\n\nimport '../styles/ChatUI.css';\nimport '../styles/MainUI_style.css';\n\nvar bubbleStyles = {\n    text: {\n        fontSize: 17,\n        fontWeight: GConfig.ChatUI.fontWeight,\n    },\n    chatbubble: {\n        borderRadius: 10,\n        padding: 10,\n        maxWidth: 500,\n    }\n};\n\nvar empty  = () => {return <div></div>};\nclass ChatUI extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            displayTopMsg: false,\n            topMsg: () => {return <div></div>},\n            displayBottomMsg: false,\n            bottomMsg: () => {return <div></div>},\n        };\n\n        this.chatStateSnap = null;\n    }\n\n    componentDidMount() {\n         this.propagateChatState(this.props.chatState);\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.chatStateSnap === this.props.chatState) return;\n        else this.chatStateSnap = this.props.chatState;\n        if (this.props.chatState !== prevState.chatState){\n            this.propagateChatState(this.props.chatState, this.props.chatStateExtra);\n        }\n    }\n\n    propagateChatState(state, extra=null){\n        switch (state){\n            case chatStates.rest:\n                break;\n            case chatStates.isLooking:\n                this.isLooking();\n                break;\n            case chatStates.isChatting:\n            case chatStates.lookingSuccess:\n                this.lookingSuccess();\n                break;\n            case chatStates.lookingFailed_NOP:\n                this.failed_noOpponent();\n                break;\n            case chatStates.lookingFailed_SER:\n                this.failed_serverError();\n                break;\n            case chatStates.lookingFailed_USR:\n                this.failed_disconnect('You\\'ve');\n                break;\n            case chatStates.userDisconnect:\n                this.failed_disconnect('You\\'ve');\n                break;\n            case chatStates.otherDisconnect:\n                this.failed_disconnect('Other use has');\n                break;\n            default:\n                break;\n        }\n    }\n\n    isLooking = () => {\n        this.props.clearMsg();\n        this.setState({\n            displayBottomMsg: false,\n            displayTopMsg: true,\n            topMsg: () => {\n                return (\n                    <div>\n                        <i\n                            style={{color: orange[800], fontWeight: 500}}>\n                            Finding someone who disagrees with you...\n                        </i>\n                    </div>\n                );\n            }\n        });\n    };\n\n    lookingSuccess = () => {\n        function displayOpinion(props){\n            if (!props.opinion){\n                return (\n                    <span style={{color:'red', fontWeight: 500}}>Against:\n                        <span style={{color:'red', fontWeight: 600}}> {props.topic}</span>\n                    </span>\n                );\n            } else {\n                return (\n                    <span style={{color:'green', fontWeight: 500}}>Support:\n                        <span style={{color:'green', fontWeight: 600}}> {props.topic}</span>\n                    </span>\n                );\n            }\n        }\n        this.setState({\n            displayBottomMsg: false,\n            displayTopMsg: true,\n            topMsg: () => {\n                return (\n                    <div style={{fontWeight: 500}}>\n                        You are <span style={{color: 'green'}}>connected</span> to\n                        a random user ({displayOpinion(this.props.chatStateExtra)}).\n                    </div>\n                );\n            }\n        }, () => {this.props.setChatState(chatStates.isChatting, this.props.chatStateExtra)});\n    };\n\n    failed_noOpponent = () => {\n        this.setState({\n            displayBottomMsg: true,\n            bottomMsg: () => {return(\n                <div style={{fontWeight: 400}}>\n                    <span style={{color: red[400], fontWeight: 500}}>\n                    Couldn't find any available user right now. Please try again\n                    and maybe add more opinions.</span>\n                    <div style={{marginTop: 13,\n                        borderRadius: GConfig.TopicUI.borderRadius,\n                        backgroundColor: GConfig.TopicUI.planeBackgroundColor}}>\n                        <TopicsUI/>\n                    </div>\n                    <Feedback/>\n                </div>\n            )}\n        });\n    };\n\n    failed_disconnect = (who) => {\n        this.setState({\n            displayBottomMsg: true,\n            bottomMsg: () => {\n                return (\n                    <div>\n                        <span style={{color:'red', fontWeight: 600}}>\n                            {who} disconnected\n                        </span>\n                        <div style={{marginTop: 13,\n                        borderRadius: GConfig.TopicUI.borderRadius,\n                        backgroundColor: GConfig.TopicUI.planeBackgroundColor}}>\n                            <TopicsUI/>\n                        </div>\n                        <Feedback/>\n                    </div>\n                );\n            }\n        });\n    };\n\n    failed_serverError = () => {\n        this.setState({\n            displayTopMsg: true,\n            topMsg: () => {\n                return (\n                    <div style={{fontWeight: 400}}>\n                        Could not connect to server. Please try again or report the error.\n                        <div style={{marginTop: 13,\n                        borderRadius: GConfig.TopicUI.borderRadius,\n                        backgroundColor: GConfig.TopicUI.planeBackgroundColor}}>\n\n                            <TopicsUI/>\n                        </div>\n                        <Feedback/>\n                    </div>\n                );\n            }\n        });\n    };\n\n    render() {\n        return (\n            <div className='chatfeed-wrapper' style={{flexGrow: 1}}>\n                <ChatFeed\n                    maxHeight={250}\n                    messages={this.props.messages}\n                    showSenderName\n                    bubbleStyles={bubbleStyles}\n\n                    isTyping={this.props.isTyping}\n                    typingMsg={\n                        <i>Other user is typing...</i>\n                    }\n\n                    empty={this.state.displayTopMsg}\n                    extraMsg={this.state.topMsg()} // msg appears on top\n\n                    showEnd={this.state.displayBottomMsg}\n                    showEndMsg={this.state.bottomMsg()}\n                />\n\n                <div className='input-group'>\n                    <EscBtn/>\n                    <Textarea/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        messages: state.msg.msgs,\n        isTyping: state.msg.typingState,\n        chatState: state.chat.state,\n        chatStateExtra: state.chat.extra,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        newMsg: (msg) => dispatch(msgAction.newMsg(msg)),\n        clearMsg: () => dispatch(msgAction.clearMsg()),\n        setChatState: (state, extra) => dispatch(chatAction.setChatState(state, extra))\n    }\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ChatUI);\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport Typography from \"@material-ui/core/Typography\";\nimport {createMuiTheme, MuiThemeProvider} from \"@material-ui/core\";\nimport {connect} from 'react-redux';\n\nimport GConfig from \"../GConfig\";\nimport * as tabAction from '../store/actions/Tabs';\nimport Control from \"./MainControl\";\nimport WelcomeMsg from \"./WelcomeMsg\";\nimport Container from \"@material-ui/core/Container\";\nimport Feedback from \"./Feedback\";\nimport ChatUI from \"./ChatUI\";\nimport Logo from '../logo192.png';\n\nimport '../styles/MainUI_style.css';\n\nclass TabPanel extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div\n                hidden={this.props.value !== this.props.index}\n                id={`full-width-tabpanel-${this.props.index}`}\n                style={this.props.style}\n                className={this.props.ClassName}\n                >\n                {this.props.value === this.props.index &&\n                    <div style={this.props.style} className={this.props.childclass}>\n                        {this.props.children}\n                    </div>}\n            </div>\n        );\n    }\n}\n\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n  };\n}\n\nclass MainUI extends React.Component{\n    constructor(props) {\n        super(props);\n    }\n\n    handleTabChange = (event, newValue) => {\n        if (this.props.topics.length === 0 && newValue !== 0) return;\n        this.props.setCurrentTab(newValue);\n    };\n\n    render() {\n        return (\n            <div style={{height: '100%'}}>\n            <AppBar style={{backgroundColor: GConfig.Global.appBarColor}} position='static'>\n                <Grid container spacing={3} className='appBarGrid'>\n                    <Grid item xs={12} sm={12}>\n                        <Tabs value={this.props.curTab} onChange={this.handleTabChange}\n                                style={{height: '100%'}} centered>\n                            <Tab label='Home' {...a11yProps(0)} style={{fontSize: 20}}/>\n                            <Tab label='Chat' {...a11yProps(1)} style={{fontSize: 20}}/>\n                        </Tabs>\n                    </Grid>\n                </Grid>\n            </AppBar>\n            \n            <TabPanel value={this.props.curTab} index={0}\n                      style={{background: GConfig.Global.welcomeBackground,\n                            height: '100%'}}>\n                <div >\n                    <Typography component='div'>\n                        <Box textAlign='center' fontWeight={90}\n                            fontSize={60} style={{paddingTop: 30, paddingBottom: 20}}>\n                            <img src={Logo} width={64} height={64}/>\n                            Arguate\n                        </Box>\n                    </Typography>\n\n                     <Control/>\n                     <WelcomeMsg/>\n                     <div align='center' >\n                         <Feedback/>\n                     </div>\n                     <div style={{height: 30, background:'transparent'}}></div>\n                </div>\n            </TabPanel>\n\n            <TabPanel value={this.props.curTab} index={1} ClassName='chatui'\n                        childclass='childDiv'>\n                <ChatUI/>\n            </TabPanel>\n            </div>    \n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        curTab: state.tab.tab,\n        topics: state.topic.topics\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setCurrentTab: (tab) => dispatch(tabAction.setActiveTab(tab))\n    }\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(MainUI);","import React from 'react';\nimport logo from './logo.svg';\nimport './styles/App.css';\nimport {connect} from 'react-redux';\n\nimport {EscBtn, btnState} from \"./components/EscBtn\";\nimport MainUI from './components/MainUI';\n\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <MainUI/>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import * as actionType from '../actions/types';\nimport {chatStates} from \"../actions/types\";\n\nconst initState = {\n    state: chatStates.rest,\n    extra: null\n};\n\nconst setChatState = (state, action) => {\n    return Object.assign({}, state, {\n        state: action.state,\n        extra: action.extra === null? state.extra : action.extra\n    });\n};\n\nconst reducer = (state = initState, action) => {\n    switch (action.type) {\n        case actionType.SET_CHAT_STATE:\n            return setChatState(state, action);\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","import * as actionType from '../actions/types';\nimport {Message} from 'react-chat-ui';\nconst initState = {\n    msgs: [],\n    typingState: false\n};\n\nconst newMsg = (state, action) => {\n    return Object.assign({}, state, {\n        msgs: [\n            ...state.msgs,\n            new Message({id: action.id, message: action.msg}) \n        ]\n    });\n};\n\nconst clearMsg = (state, action) => {\n    return Object.assign({}, state, {\n        msgs: []\n    });\n};\n\nconst setTypingState = (state, action) => {\n    return Object.assign({}, state, {\n        typingState: action.state\n    });\n};\n\nconst reducer = (state = initState, action) => {\n    switch (action.type) {\n        case actionType.NEW_MSG:\n            return newMsg(state, action);\n        case actionType.CLEAR_MSG:\n            return clearMsg(state, action);\n        case actionType.SET_TYPING_STATE:\n            return setTypingState(state, action);\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","import * as actionType from '../actions/types';\n\nconst initState = {\n    topics: [],\n};\n\nconst setTopics = (state, action ) => {\n    return {\n        ...state,\n        topics: action.topics\n    }\n};\n\nconst addTopic = (state, action) => {\n    for (let i = 0; i < state.topics.length; i++ ){\n        if (state.topics[i] === action.topic) return state;\n    }\n    return {\n        topics: [\n            ...state.topics,\n            [action.topic, true]\n        ]\n    };\n};\n\nconst toggleTopic = (state, action) => {\n    return {\n        topics: state.topics.map((item, index) => {\n            if (item[0] === action.topic){\n                return [item[0], !item[1]];\n            }\n            else return item;\n        })\n    };\n};\n\nconst deleteTopic = (state, action) => {\n    return {\n        topics: state.topics.filter((value, index) => {\n            return value[0] !== action.topic;\n        })\n    };\n};\n\nconst reducer = (state = initState, action) => {\n    switch(action.type){\n        case actionType.SET_TOPICS:\n            return setTopics(state, action);\n        case actionType.ADD_TOPIC:\n            return addTopic(state, action);\n        case actionType.TOGGLE_TOPIC:\n            return toggleTopic(state, action);\n        case actionType.DELETE_TOPIC:\n            return deleteTopic(state, action);\n        default:\n            return state;\n    }\n};\n\nexport default reducer;\n\n","import * as actionType from '../actions/types';\n\nconst initState = {\n    tab: 0,\n};\n\nconst setActiveTab = (state, action) => {\n    if (state.tab === action.tab) return state;\n    return Object.assign({}, state, {\n        tab: action.tab\n    });\n};\n\nconst reducer = (state = initState, action) => {\n    switch (action.type){\n        case actionType.SET_ACTIVE_TAB:\n            return setActiveTab(state, action);\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","import * as actionType from '../actions/types';\n\nconst initState = {};\nconst setChatState = (action, state) => {\n    return Object.assign({}, state, {\n        [state.field]: state.info\n    });\n};\n\nconst reducer = (state = initState, action) => {\n    switch(action.type){\n        case actionType.SET_GENERAL_INFO:\n            return setChatState(state, action);\n            break;\n        default:\n            return state;\n            break;\n    }\n};\n\nexport default reducer;","import GWebsocket from \"./websocket\";\nimport {store} from './index';\nimport {chatStates} from './store/actions/types';\nimport * as msgAction from \"./store/actions/MsgState\";\nimport * as chatAction from './store/actions/ChatState';\n\nclass rdWebsocket {\n    constructor() {\n        this.listener = this.listener.bind(this);\n        store.subscribe(this.listener);\n        this.prevState = store.getState();\n    }\n\n    listener(){\n        var curState = store.getState();\n        if (curState.chat.state !== this.prevState.chat.state){\n            switch(curState.chat.state){\n                case chatStates.isLooking:\n                    GWebsocket.start_chat();\n                    break;\n                case chatStates.userDisconnect:\n                    GWebsocket.end_chat(); \n                    break;\n                case chatStates.lookingFailed_USR:\n                    GWebsocket.end_chat();\n                    GWebsocket.stop_start_chat();\n                    break;\n                case chatStates.lookingFailed_SER:\n                    GWebsocket.end_chat();\n                    break;\n                case chatStates.lookingFailed_NOP:\n                    GWebsocket.end_chat();\n                default:\n                    break;\n            }\n            this.prevState.chat.state = curState.chat.state;\n        }\n    }\n}\n\nexport default rdWebsocket;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport {Provider} from 'react-redux';\nimport { createStore, combineReducers } from \"redux\";\nimport {devToolsEnhancer, composeWithDevTools} from 'redux-devtools-extension';\n\nimport chatReducer from './store/reducers/ChatState';\nimport msgReducer from './store/reducers/MsgState';\nimport topicReducer from './store/reducers/TopicState';\nimport tabReducer from './store/reducers/Tabs';\nimport generalReducer from './store/reducers/GeneralState';\nimport GWebsocket from \"./websocket\";\nimport rdWebsocket from \"./rdWebsocket\";\nimport sendHttp from \"./utility\";\nimport {setTopics} from \"./store/actions/TopicState\";\n\nfunction configureStore(){\n    const rootReducer = combineReducers({\n        chat: chatReducer,\n        msg: msgReducer,\n        topic: topicReducer,\n        tab: tabReducer,\n        general: generalReducer\n    });\n\n    const composerEnhancer = composeWithDevTools({\n        name: `Redux`,\n        realtime: true,\n        trace: true,\n        traceLimit: 25\n    });\n    const store = createStore(\n        rootReducer,\n        composerEnhancer()\n    );\n\n    return store;\n}\nexport const store = configureStore();\nconst app = (\n    <Provider store={store}>\n        <App/>\n    </Provider>\n);\n\nGWebsocket.addCallback('user_id_confirmed', () => {\n    sendHttp('user_topics', {\n            user_id: localStorage.getItem('user_id'),\n    }).then(res => {\n            var raw = JSON.parse(res);\n            store.dispatch(setTopics(raw['topics']));\n            ReactDOM.render(app, document.getElementById('root'));\n    });\n});\nGWebsocket.connect();\nconst rdws = new rdWebsocket();","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}